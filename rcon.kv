##:import Window kivy.core.window.Window
#:import openURL webbrowser.open

<MainScreen>:
    md_bg_color: self.theme_cls.backgroundColor
    
    MDNavigationLayout:
        ScreenManager:
            MDScreen:
                BoxLayout:
                    orientation: 'vertical'
                    size_hint: (1,1)
                    spacing: 2
                    MDTopAppBar:
                        type: 'small'
                        size_hint_x: .8
                        MDTopAppBarLeadingButtonContainer:
                            MDActionTopAppBarButton:
                                icon: 'menu'
                                on_release: nav_drawer.set_state("toggle")
                        MDTopAppBarTitle:
                            text: 'Console'
                            pos_hint: {'center_x': .1, 'center_y': .5}
                    MDTextField:
                        mode: 'filled'
                        id: commandInput
                        hint_text: "status"
                        multiline: False
                        write_tab: False
                        on_text_validate: root.callback_exec()
                        MDTextFieldHintText:
                            text: 'Type a command...'
                        MDTextFieldLeadingIcon:
                            icon: 'powershell'
                    TextInput:
                        id: console
                        readonly: True
                        background_color: root.theme_cls.backgroundColor
                        foreground_color: (1,1,1,1)
                        scroll_y: 0
                        text: "Try typing `clear` command.\n\n\n\nMake sure text fields look interactive\nTwo types: filled and outlined\nThe text field state (blank, with input, error, etc) should be visible at a glance\nKeep labels and error messages brief and easy to act on\nText fields commonly appear in forms and dialogs"
                MDButton:
                    pos_hint: {"center_x": .5, "center_y": .5}
                    on_release: nav_drawer.set_state("toggle")#root.callback_exec()#
                    MDButtonText:
                        text: "Open Drawer"
        MDNavigationDrawer:
            id: nav_drawer
            radius: 0, dp(16), dp(16), 0
            type: 'modal'
            MDNavigationDrawerMenu:
                MDNavigationDrawerLabel:
                    text: "Wolf Pack RCON Tool"
                MDNavigationDrawerItem:
                    on_release: root.manager.current = "servers"
                    MDNavigationDrawerItemLeadingIcon:
                        icon: "server"
                    MDNavigationDrawerItemText:
                        text: "Servers"
                    MDNavigationDrawerItemTrailingText:
                        id: svCounter
                        text: "0"
                
                MDNavigationDrawerItem:
                    on_release: root.manager.current = "settings"
                    MDNavigationDrawerItemLeadingIcon:
                        icon: 'cog'
                    MDNavigationDrawerItemText:
                        text: 'Settings'
                
                MDNavigationDrawerDivider:

<SettingsScreen>:
    md_bg_color: self.theme_cls.backgroundColor
    
    MDNavigationLayout:
        ScreenManager:
            MDScreen:
                ScrollView:
                    MDList:
                        MDTopAppBar:
                            type: 'small'
                            size_hint_x: .8
                            MDTopAppBarLeadingButtonContainer:
                                MDActionTopAppBarButton:
                                    icon: 'arrow-left'
                                    on_release: root.manager.current = "main"
                            MDTopAppBarTitle:
                                text: 'Settings'
                                pos_hint: {'center_x': .1, 'center_y': .5}
                        MDListItem:
                            on_release: root.manager.current = "appearance"
                            MDListItemLeadingIcon:
                                icon: 'eye'
                            MDListItemSupportingText:
                                text: 'Appearance'
                            MDListItemTrailingIcon:
                                icon: 'chevron-right'
                        MDListItem:
                            on_release: root.manager.current = "about"
                            MDListItemLeadingIcon:
                                icon: 'information'
                            MDListItemSupportingText:
                                text: 'About'
                            MDListItemTrailingIcon:
                                icon: 'chevron-right'

<AppearanceSettings>:
    md_bg_color: self.theme_cls.backgroundColor
    ScrollView:
        MDList:
            MDTopAppBar:
                type: 'small'
                size_hint_x: .8
                MDTopAppBarLeadingButtonContainer:
                    MDActionTopAppBarButton:
                        icon: 'arrow-left'
                        on_release: root.manager.current = "settings"
                MDTopAppBarTitle:
                    text: 'Appearance Settings'
                    pos_hint: {'center_x': .1, 'center_y': .5}
            MDListItem:
                on_release: app.toggleDarkMode()
                MDListItemLeadingIcon:
                    icon: 'theme-light-dark'
                MDListItemSupportingText:
                    text: "Switch Theme Style"
            MDListItem:
                id: colorMenuButton1
                on_release: root.colorMenu(1)
                MDListItemLeadingIcon:
                    icon: 'format-color-fill'
                MDListItemSupportingText:
                    text: 'Choose Theme Color (Set 1)'
            MDListItem:
                id: colorMenuButton2
                on_release: root.colorMenu(2)
                MDListItemLeadingIcon:
                    icon: 'format-color-fill'
                MDListItemSupportingText:
                    text: 'Choose Theme Color (Set 2)'
            MDListItem:
                id: colorMenuButton3
                on_release: root.colorMenu(3)
                MDListItemLeadingIcon:
                    icon: 'format-color-fill'
                MDListItemSupportingText:
                    text: 'Choose Theme Color (Set 3)'
            MDListItem:
                id: colorMenuButton4
                on_release: root.colorMenu(4)
                MDListItemLeadingIcon:
                    icon: 'format-color-fill'
                MDListItemSupportingText:
                    text: 'Choose Theme Color (Set 4)'
            MDListItem:
                on_release: root.resetTheme()
                MDListItemLeadingIcon:
                    icon: 'restore'
                MDListItemSupportingText:
                    text: 'Reset Appearance Settings'

<ServerScreen>:
    md_bg_color: self.theme_cls.backgroundColor
    ScrollView:
        MDList:
            id: serverList
            MDTopAppBar:
                type: 'small'
                size_hint_x: .8
                MDTopAppBarLeadingButtonContainer:
                    MDActionTopAppBarButton:
                        icon: 'arrow-left'
                        on_release: root.manager.current = "main"
                MDTopAppBarTitle:
                    text: 'Servers'
                    pos_hint: {'center_x': .1, 'center_y': .5}
            MDListItem:
                on_release: root.manager.current = "addserver"
                MDListItemLeadingIcon:
                    icon: 'plus'
                MDListItemSupportingText:
                    text: 'Add Server'

<AddServerScreen>:
    md_bg_color: self.theme_cls.backgroundColor
    ScrollView:
        MDList:
            MDTopAppBar:
                type: 'small'
                size_hint_x: .8
                MDTopAppBarLeadingButtonContainer:
                    MDActionTopAppBarButton:
                        icon: 'arrow-left'
                        on_release: root.manager.current = "servers"
                MDTopAppBarTitle:
                    text: 'Add Server'
                    pos_hint: {'center_x': .1, 'center_y': .5}
            #MDListItem:
            #    MDListItemSupportingText:
            #        text: 'Name'
            MDTextField:
                mode: 'filled'
                id: newSrvName
                #hint_text: "Name"
                multiline: False
                write_tab: False
                #on_text_validate: print("")
                MDTextFieldHintText:
                    text: 'Name'
                MDTextFieldLeadingIcon:
                    icon: 'format-color-text'
                

<AboutScreen>:
    md_bg_color: self.theme_cls.backgroundColor
    ScrollView:
        MDList:
            MDTopAppBar:
                type: 'small'
                size_hint_x: .8
                MDTopAppBarLeadingButtonContainer:
                    MDActionTopAppBarButton:
                        icon: 'arrow-left'
                        on_release: root.manager.current = "settings"
                MDTopAppBarTitle:
                    text: 'About'
                    pos_hint: {'center_x': .1, 'center_y': .5}
            MDListItem:
                ripple_effect: False
                MDListItemSupportingText:
                    multiline: True
                    text: 'RCON tool for Call of Duty Â® (2003) and some other similar games. Made using KivyMD UI toolkit for Python.'
                
            MDListItem:
                ripple_effect: False
                MDLabel:
                    text: "Discord Server"
                MDCard:
                    style: 'elevated'
                    on_release: openURL("https://discord.com/invite/GDMDTJXaFk")
                    MDRelativeLayout:
                        MDIcon:
                            icon: 'arrow-top-right'
                            pos_hint: {'top': .9, 'right': .95}
                        FitImage:
                            id: WolfPackLogo
                            size_hint: None, None
                            size: "64dp", "64dp"
                            pos_hint: {'center_x': .5, "center_y": .5}
            MDListItem:
                ripple_effect: False
                MDLabel:
                    text: 'Source Code'
                MDCard:
                    style: 'elevated'
                    on_release: openURL("https://github.com/Wolf-Pack-Clan/wfp-rcontool")
                    MDRelativeLayout:
                        MDIcon:
                            icon: 'arrow-top-right'
                            pos_hint: {'top': .9, 'right': .95}
                        FitImage:
                            id: GHLogo
                            size_hint: None, None
                            size: "64dp", "64dp"
                            pos_hint: {'center_x': .5, "center_y": .5}
            MDListItem:
                ripple_effect: False
                MDLabel:
                    text: 'KivyMD'
                MDCard:
                    style: 'elevated'
                    on_release: openURL("https://github.com/kivymd/KivyMD")
                    MDRelativeLayout:
                        MDIcon:
                            icon: 'arrow-top-right'
                            pos_hint: {'top': .9, 'right': .95}
                        FitImage:
                            id: kivyMDLogo
                            size_hint: None, None
                            size: "64dp", "64dp"
                            pos_hint: {'center_x': .5, "center_y": .5}